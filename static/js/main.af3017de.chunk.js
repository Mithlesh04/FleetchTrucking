(this["webpackJsonpfleetech-trucking"]=this["webpackJsonpfleetech-trucking"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(15),c=a.n(r),o=(a(96),a(16)),s=(a(97),a(152)),l=a(155),u=a(22),d=a(157),j=a(111),g=a(174),b=a(112),h=a(172),m=a(158),f=a(159),p=a(76),O=a.n(p),x=a(80).a.initializeApp({apiKey:"AIzaSyDQGDmC5WDtuEHLakzUEeLrJ84EsgfBcV4",authDomain:"realtimedatabase-b6962.firebaseapp.com",projectId:"realtimedatabase-b6962",storageBucket:"realtimedatabase-b6962.appspot.com",messagingSenderId:"24518248107",appId:"1:24518248107:web:e5f4b4f5aef6859f87d9ee",measurementId:"G-HLX250TMSX"}),v=a(5),y=Object(s.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?nature,water,earth)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function S(e){var t=y(),a=i.a.useState(!0),n=Object(o.a)(a,2),r=n[0],c=n[1],s=i.a.useState(""),p=Object(o.a)(s,2),S=p[0],W=p[1],w=i.a.useState({name:"",email:"",password:"",isSigninform:r}),C=Object(o.a)(w,2),k=C[0],N=C[1];return Object(v.jsxs)(l.a,{container:!0,component:"main",className:t.root,children:[Object(v.jsx)(d.a,{}),Object(v.jsx)(l.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(v.jsx)(l.a,{item:!0,xs:12,sm:8,md:5,component:j.a,elevation:6,square:!0,children:Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)(g.a,{className:t.avatar,children:Object(v.jsx)(O.a,{})}),Object(v.jsx)(b.a,{component:"h1",variant:"h5",children:r?"Sign in":"Sign up"}),Object(v.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),function(t){var a=t.name,n=t.email,i=t.password,r=t.isSigninform;(r?x.auth().signInWithEmailAndPassword(n,i):x.auth().createUserWithEmailAndPassword(n,i)).then((function(t){var c=t.user;x.database().ref("users").child(c.uid).set(Object(u.a)(Object(u.a)({},r?{name:a}:{}),{},{email:n,password:i})),N({name:"",email:"",password:"",isSigninform:r}),e.userSingIn(c.uid),W("")})).catch((function(e){W(e.message)}))}(k)},children:[!r&&Object(v.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return N(Object(u.a)(Object(u.a)({},k),{},{name:e.target.value}))}}),Object(v.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return N(Object(u.a)(Object(u.a)({},k),{},{email:e.target.value}))}}),Object(v.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return N(Object(u.a)(Object(u.a)({},k),{},{password:e.target.value}))}}),Object(v.jsx)(l.a,{container:!0,justifyContent:"center",children:Object(v.jsx)("span",{style:{color:"red"},children:S})}),Object(v.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:r?"Sign In":"Sign Up"}),Object(v.jsx)(l.a,{container:!0,children:Object(v.jsx)(l.a,{item:!0,children:Object(v.jsx)(f.a,{href:"#",variant:"body2",onClick:function(e){return c(!r)},children:r?"Don't have an account? Sign Up":"have an account? Sign In"})})})]})]})})]})}var W=a(81),w=a(175),C=a(161),k=a(162),N=a(163),A=a(160),D=Object(s.a)((function(e){return{root:{flexGrow:1,paddingBottom:60},Appbar:{background:"#ffffff",boxShadow:"0px 1px 9px -3px rgb(0 0 0 / 10%)"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#343a40"},orange:{color:e.palette.getContrastText(A.a[500]),backgroundColor:A.a[500]}}}));function I(){var e=D(),t=i.a.useState("https://source.unsplash.com/1600x900/?nature,water,earth"),a=Object(o.a)(t,2),n=a[0],r=(a[1],i.a.useState(null)),c=Object(o.a)(r,2),s=c[0],l=c[1],u=i.a.useState({}),d=Object(o.a)(u,2),j=d[0],h=d[1];i.a.useEffect((function(){x.auth().onAuthStateChanged((function(e){if(e){var t=e.uid;x.database().ref("users/"+t).on("value",(function(e){h(e.val())}))}else h({})}))}),[]);var m=function(){l(null)};return Object(v.jsx)("div",{className:e.root,children:Object(v.jsx)(C.a,{position:"fixed",className:e.Appbar,children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(b.a,{variant:"h6",className:e.title,children:"Fleetch Trucking"}),Object(v.jsx)(N.a,{onClick:function(e){l(e.currentTarget)},children:Object(v.jsx)(g.a,{alt:"Avatar",src:n,className:e.orange,children:"G"})}),Object(v.jsxs)(W.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:m,children:[Object(v.jsxs)(w.a,{children:[Object(v.jsx)(g.a,{alt:"Avatar",src:n,style:{width:50,height:50},children:"G"}),Object(v.jsx)("div",{style:{marginLeft:30},children:null===j||void 0===j?void 0:j.name})]}),Object(v.jsx)(w.a,{children:null===j||void 0===j?void 0:j.email}),Object(v.jsx)(w.a,{children:null===j||void 0===j?void 0:j.password}),Object(v.jsx)(w.a,{onClick:function(e){x.auth().signOut().then((function(){console.log("Sign-out successful."),m()})).catch((function(e){console.log("An error happened. during signout  = ",e)}))},style:{marginLeft:30,textAlign:"center"},children:"Sign Out"})]})]})})})}var T=a(21),F=a(79),M=a(164),B=a(55);var E=Object(s.a)((function(e){return{root:{textAlign:"center","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:e.spacing(60)}},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},margin:{margin:e.spacing(1)}}})),U=Object(F.a)({palette:{primary:B.a}});function z(e){var t=E(),a=i.a.useState({currentWeight:(null===e||void 0===e?void 0:e.currentWeight)||"",targetWeight:(null===e||void 0===e?void 0:e.targetWeight)||""}),n=Object(o.a)(a,2),r=n[0],c=n[1],s=i.a.useState(""),d=Object(o.a)(s,2),g=d[0],b=d[1],f=function(e,t){c(Object(u.a)(Object(u.a)({},r),{},Object(T.a)({},e,t)))};return Object(v.jsx)(l.a,{container:!0,maxwidth:"sm",justifyContent:"center",children:Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)(j.a,{elevation:3,children:[Object(v.jsx)("h2",{children:(null===e||void 0===e?void 0:e.title)||"Weight Tracker"}),Object(v.jsxs)("form",{className:t.root,autoComplete:"off",children:[Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{required:!0,id:"standard-multiline-flexible",label:"Current Weight (kg)",type:"number",className:"form-control is-valid",value:r.currentWeight,onChange:function(e){return f("currentWeight",e.target.value)}})}),Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{required:!0,id:"standard-multiline-flexible",label:"Target Weight (kg)",type:"number",className:"form-control is-valid",value:r.targetWeight,onChange:function(e){return f("targetWeight",e.target.value)}})})]}),Object(v.jsx)(l.a,{container:!0,justifyContent:"center",children:Object(v.jsx)("span",{style:{color:"red"},children:g})}),Object(v.jsx)(M.a,{theme:U,children:Object(v.jsx)(m.a,{onClick:function(){(null===e||void 0===e?void 0:e.isModal)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=x.auth().getUid();n&&x.database().ref(n).child(e).update(Object(u.a)({date:Date.now()},t),(function(e){"function"===typeof a&&a(e)}))}(e.id,r,(function(t){t?b(null===t||void 0===t?void 0:t.message):null===e||void 0===e||e.modal(!1)})):(r.set__Msg__=b,r.setWeightData=c,function(e){var t=e.currentWeight,a=e.targetWeight,n=e.set__Msg__,i=e.setWeightData,r=x.auth().getUid();if(r){var c=x.database().ref(r),o={date:Date.now(),currentWeight:t,targetWeight:a};c.push(o,(function(e){n&&n((null===e||void 0===e?void 0:e.message)?null===e||void 0===e?void 0:e.message:Object(v.jsx)("span",{style:{color:"green"},children:"Successfully submitted"})),i&&i({currentWeight:"",targetWeight:""})}))}else n&&n("You are not signin")}(r))},type:"submit",variant:"contained",color:"primary",className:t.margin,children:(null===e||void 0===e?void 0:e.button)||"Submit"})})]})})})}var L=a(7),_=a(169),G=a(171),P=a(165),q=a(168),J=a(170),H=a(166),R=a(78),V=a.n(R),X=a(77),Y=a.n(X),K=a(173),Q=a(167),Z=a(113),$=function(e){var t=e?new Date(e):new Date;return t.getDate()+"-"+["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Aug","Nov","Dec"][t.getMonth()]+"-"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},ee=Object(L.a)((function(e){return{head:{backgroundColor:"#87ceeb5c",color:"black",fontWeight:"bold"},body:{fontSize:14}}}))(P.a),te=Object(L.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a),ae=Object(s.a)((function(e){return{table:{minWidth:700},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ne(){var e=ae(),t=i.a.useState(),a=Object(o.a)(t,2),n=a[0],r=a[1];i.a.useEffect((function(){!function(e){var t=x.auth().getUid();t&&x.database().ref(t).on("value",(function(t){if("function"===typeof e){var a=Object.entries(t.val()||{});e(a)}}))}(r)}),[]);var c=i.a.useState(!1),s=Object(o.a)(c,2),u=s[0],d=s[1],g=i.a.useState({}),b=Object(o.a)(g,2),h=b[0],m=b[1],f=function(){d(!1)};function p(){var t=h.id,a=h.currentWeight,n=h.targetWeight;return Object(v.jsx)("div",{children:Object(v.jsx)(K.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:u,onClose:f,closeAfterTransition:!0,BackdropComponent:Q.a,BackdropProps:{timeout:500},children:Object(v.jsx)(Z.a,{in:u,children:Object(v.jsxs)("div",{children:[t&&Object(v.jsx)(z,{isModal:!0,modal:d,id:t,currentWeight:Number(a),targetWeight:Number(n),button:"Update"}),!t&&"Something went wrong"]})})})})}return(n||"").length?Object(v.jsxs)(l.a,{item:!0,xs:12,md:7,sm:12,style:{paddingTop:13},children:[Object(v.jsxs)(q.a,{component:j.a,className:"scroll-bar",style:{marginLeft:10,maxHeight:70*window.screen.height/100},children:[u&&Object(v.jsx)(p,{}),Object(v.jsxs)(_.a,{className:e.table,"aria-label":"customized table",children:[Object(v.jsx)(J.a,{children:Object(v.jsxs)(H.a,{children:[Object(v.jsx)(ee,{children:"#"}),Object(v.jsx)(ee,{align:"center",children:"Date"}),Object(v.jsx)(ee,{align:"center",children:"Current Weight\xa0(kg)"}),Object(v.jsx)(ee,{align:"center",children:"Target Weight\xa0(kg)"}),Object(v.jsx)(ee,{align:"center"})]})}),Object(v.jsx)(G.a,{children:(n||[]).map((function(e,t){var a,n,i;return Object(v.jsxs)(te,{children:[Object(v.jsxs)(ee,{component:"th",scope:"row",children:[t+1,"."]}),Object(v.jsx)(ee,{align:"center",children:$(null===(a=e[1])||void 0===a?void 0:a.Date)}),Object(v.jsx)(ee,{align:"center",children:null===(n=e[1])||void 0===n?void 0:n.currentWeight}),Object(v.jsx)(ee,{align:"center",children:null===(i=e[1])||void 0===i?void 0:i.targetWeight}),Object(v.jsxs)(ee,{align:"center",children:[Object(v.jsx)(Y.a,{color:"primary",onClick:function(t){return function(e){var t,a;e&&m({id:e[0],currentWeight:null===(t=e[1])||void 0===t?void 0:t.currentWeight,targetWeight:null===(a=e[1])||void 0===a?void 0:a.targetWeight}),d(!0)}(e)},style:{cursor:"pointer",marginRight:15},fontSize:"small"}),Object(v.jsx)(V.a,{onClick:function(t){return function(e){var t=x.auth().getUid();t&&x.database().ref(t).child(e).remove()}(e[0])},style:{cursor:"pointer",color:"#ff000094"},fontSize:"small"})]})]},t+e[0])}))})]})]})," "]}):""}var ie=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}}));var re=function(){var e=ie(),t=i.a.useState(x.auth().getUid()),a=Object(o.a)(t,2),n=a[0],r=a[1];return i.a.useState((function(){x.auth().onAuthStateChanged((function(e){if(e){var t=e.uid;r(t)}else r()}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I,{}),n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:e.root,children:Object(v.jsxs)(l.a,{container:!0,spacing:1,justifyContent:"flex-start",children:[Object(v.jsx)(ne,{}),Object(v.jsx)(l.a,{item:!0,xs:12,md:5,sm:12,children:Object(v.jsx)(z,{})})]})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-3"})})]}):Object(v.jsx)(S,{userSingIn:r})]})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,176)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};c.a.render(Object(v.jsx)(re,{}),document.getElementById("root")),ce()},96:function(e,t,a){},97:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.af3017de.chunk.js.map